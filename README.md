# Игровой бот для игры Манчкин и Драконы

Это набор телеграм ботов, которые поставляются в одном контейнере с postgres и minio для хранения данных

## Сборка контейнера

```bash
docker-compose build
docker-compose push
```

## Локальная сборка и отладка

Для работы потребуется запущенные сервисы `postgres` (порт 5432) и `minio` (порт 9000) с настройками пользователей, указанными в файле `.env.example` (пароли можно изменить).

Следует скопировать `.env.example` в файл `.env` и заполнить недостающие поля или изменить под текущее окружение.

Для того чтобы запустить БД и Minio для отладки (не запускать бота в контейнере) следует указать параметр `START_SERVICES=false` и выполнить `docker-compose up`.

Установка окружения:

```bash
poetry install
```

Запуск окружения:

```bash
poetry shell
```

Запуск ботов:

```bash
python src/*_bot/main.py
```

## Локальная отладка контейнера

Следует скопировать `.env.example` в файл `.env` и заполнить недостающие поля или изменить под текущее окружение.

```bash
docker-compose up
```